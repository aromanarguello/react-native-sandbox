029eab4432a1a4962ad437c25633cd93
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var BoundingDimensions = require("./BoundingDimensions");

var Platform = require("../../Utilities/Platform");

var Position = require("./Position");

var React = require('react');

var ReactNative = require("../../Renderer/shims/ReactNative");

var StyleSheet = require("../../StyleSheet/StyleSheet");

var TVEventHandler = require("../AppleTV/TVEventHandler");

var UIManager = require("../../ReactNative/UIManager");

var View = require("../View/View");

var keyMirror = require('fbjs/lib/keyMirror');

var normalizeColor = require("../../Color/normalizeColor");

var extractSingleTouch = function extractSingleTouch(nativeEvent) {
  var touches = nativeEvent.touches;
  var changedTouches = nativeEvent.changedTouches;
  var hasTouches = touches && touches.length > 0;
  var hasChangedTouches = changedTouches && changedTouches.length > 0;
  return !hasTouches && hasChangedTouches ? changedTouches[0] : hasTouches ? touches[0] : nativeEvent;
};

var States = keyMirror({
  NOT_RESPONDER: null,
  RESPONDER_INACTIVE_PRESS_IN: null,
  RESPONDER_INACTIVE_PRESS_OUT: null,
  RESPONDER_ACTIVE_PRESS_IN: null,
  RESPONDER_ACTIVE_PRESS_OUT: null,
  RESPONDER_ACTIVE_LONG_PRESS_IN: null,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: null,
  ERROR: null
});
var baseStatesConditions = {
  NOT_RESPONDER: false,
  RESPONDER_INACTIVE_PRESS_IN: false,
  RESPONDER_INACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_PRESS_IN: false,
  RESPONDER_ACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_LONG_PRESS_IN: false,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: false,
  ERROR: false
};

var IsActive = _objectSpread({}, baseStatesConditions, {
  RESPONDER_ACTIVE_PRESS_OUT: true,
  RESPONDER_ACTIVE_PRESS_IN: true
});

var IsPressingIn = _objectSpread({}, baseStatesConditions, {
  RESPONDER_INACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});

var IsLongPressingIn = _objectSpread({}, baseStatesConditions, {
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});

var Signals = keyMirror({
  DELAY: null,
  RESPONDER_GRANT: null,
  RESPONDER_RELEASE: null,
  RESPONDER_TERMINATED: null,
  ENTER_PRESS_RECT: null,
  LEAVE_PRESS_RECT: null,
  LONG_PRESS_DETECTED: null
});
var Transitions = {
  NOT_RESPONDER: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.ERROR,
    RESPONDER_TERMINATED: States.ERROR,
    ENTER_PRESS_RECT: States.ERROR,
    LEAVE_PRESS_RECT: States.ERROR,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_IN: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_IN,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_OUT: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_OUT,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_LONG_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_LONG_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  error: {
    DELAY: States.NOT_RESPONDER,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.NOT_RESPONDER,
    LEAVE_PRESS_RECT: States.NOT_RESPONDER,
    LONG_PRESS_DETECTED: States.NOT_RESPONDER
  }
};
var HIGHLIGHT_DELAY_MS = 130;
var PRESS_EXPAND_PX = 20;
var LONG_PRESS_THRESHOLD = 500;
var LONG_PRESS_DELAY_MS = LONG_PRESS_THRESHOLD - HIGHLIGHT_DELAY_MS;
var LONG_PRESS_ALLOWED_MOVEMENT = 10;
var TouchableMixin = {
  componentDidMount: function componentDidMount() {
    if (!Platform.isTV) {
      return;
    }

    this._tvEventHandler = new TVEventHandler();

    this._tvEventHandler.enable(this, function (cmp, evt) {
      var myTag = ReactNative.findNodeHandle(cmp);
      evt.dispatchConfig = {};

      if (myTag === evt.tag) {
        if (evt.eventType === 'focus') {
          cmp.touchableHandleFocus(evt);
        } else if (evt.eventType === 'blur') {
          cmp.touchableHandleBlur(evt);
        } else if (evt.eventType === 'select') {
          cmp.touchableHandlePress && !cmp.props.disabled && cmp.touchableHandlePress(evt);
        }
      }
    });
  },
  componentWillUnmount: function componentWillUnmount() {
    if (this._tvEventHandler) {
      this._tvEventHandler.disable();

      delete this._tvEventHandler;
    }

    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
  },
  touchableGetInitialState: function touchableGetInitialState() {
    return {
      touchable: {
        touchState: undefined,
        responderID: null
      }
    };
  },
  touchableHandleResponderTerminationRequest: function touchableHandleResponderTerminationRequest() {
    return !this.props.rejectResponderTermination;
  },
  touchableHandleStartShouldSetResponder: function touchableHandleStartShouldSetResponder() {
    return !this.props.disabled;
  },
  touchableLongPressCancelsPress: function touchableLongPressCancelsPress() {
    return true;
  },
  touchableHandleResponderGrant: function touchableHandleResponderGrant(e) {
    var dispatchID = e.currentTarget;
    e.persist();
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
    this.pressOutDelayTimeout = null;
    this.state.touchable.touchState = States.NOT_RESPONDER;
    this.state.touchable.responderID = dispatchID;

    this._receiveSignal(Signals.RESPONDER_GRANT, e);

    var delayMS = this.touchableGetHighlightDelayMS !== undefined ? Math.max(this.touchableGetHighlightDelayMS(), 0) : HIGHLIGHT_DELAY_MS;
    delayMS = isNaN(delayMS) ? HIGHLIGHT_DELAY_MS : delayMS;

    if (delayMS !== 0) {
      this.touchableDelayTimeout = setTimeout(this._handleDelay.bind(this, e), delayMS);
    } else {
      this._handleDelay(e);
    }

    var longDelayMS = this.touchableGetLongPressDelayMS !== undefined ? Math.max(this.touchableGetLongPressDelayMS(), 10) : LONG_PRESS_DELAY_MS;
    longDelayMS = isNaN(longDelayMS) ? LONG_PRESS_DELAY_MS : longDelayMS;
    this.longPressDelayTimeout = setTimeout(this._handleLongDelay.bind(this, e), longDelayMS + delayMS);
  },
  touchableHandleResponderRelease: function touchableHandleResponderRelease(e) {
    this.pressInLocation = null;

    this._receiveSignal(Signals.RESPONDER_RELEASE, e);
  },
  touchableHandleResponderTerminate: function touchableHandleResponderTerminate(e) {
    this.pressInLocation = null;

    this._receiveSignal(Signals.RESPONDER_TERMINATED, e);
  },
  touchableHandleResponderMove: function touchableHandleResponderMove(e) {
    if (!this.state.touchable.positionOnActivate) {
      return;
    }

    var positionOnActivate = this.state.touchable.positionOnActivate;
    var dimensionsOnActivate = this.state.touchable.dimensionsOnActivate;
    var pressRectOffset = this.touchableGetPressRectOffset ? this.touchableGetPressRectOffset() : {
      left: PRESS_EXPAND_PX,
      right: PRESS_EXPAND_PX,
      top: PRESS_EXPAND_PX,
      bottom: PRESS_EXPAND_PX
    };
    var pressExpandLeft = pressRectOffset.left;
    var pressExpandTop = pressRectOffset.top;
    var pressExpandRight = pressRectOffset.right;
    var pressExpandBottom = pressRectOffset.bottom;
    var hitSlop = this.touchableGetHitSlop ? this.touchableGetHitSlop() : null;

    if (hitSlop) {
      pressExpandLeft += hitSlop.left || 0;
      pressExpandTop += hitSlop.top || 0;
      pressExpandRight += hitSlop.right || 0;
      pressExpandBottom += hitSlop.bottom || 0;
    }

    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;

    if (this.pressInLocation) {
      var movedDistance = this._getDistanceBetweenPoints(pageX, pageY, this.pressInLocation.pageX, this.pressInLocation.pageY);

      if (movedDistance > LONG_PRESS_ALLOWED_MOVEMENT) {
        this._cancelLongPressDelayTimeout();
      }
    }

    var isTouchWithinActive = pageX > positionOnActivate.left - pressExpandLeft && pageY > positionOnActivate.top - pressExpandTop && pageX < positionOnActivate.left + dimensionsOnActivate.width + pressExpandRight && pageY < positionOnActivate.top + dimensionsOnActivate.height + pressExpandBottom;

    if (isTouchWithinActive) {
      var prevState = this.state.touchable.touchState;

      this._receiveSignal(Signals.ENTER_PRESS_RECT, e);

      var curState = this.state.touchable.touchState;

      if (curState === States.RESPONDER_INACTIVE_PRESS_IN && prevState !== States.RESPONDER_INACTIVE_PRESS_IN) {
        this._cancelLongPressDelayTimeout();
      }
    } else {
      this._cancelLongPressDelayTimeout();

      this._receiveSignal(Signals.LEAVE_PRESS_RECT, e);
    }
  },
  touchableHandleFocus: function touchableHandleFocus(e) {
    this.props.onFocus && this.props.onFocus(e);
  },
  touchableHandleBlur: function touchableHandleBlur(e) {
    this.props.onBlur && this.props.onBlur(e);
  },
  _remeasureMetricsOnActivation: function _remeasureMetricsOnActivation() {
    var tag = this.state.touchable.responderID;

    if (tag == null) {
      return;
    }

    UIManager.measure(tag, this._handleQueryLayout);
  },
  _handleQueryLayout: function _handleQueryLayout(l, t, w, h, globalX, globalY) {
    if (!l && !t && !w && !h && !globalX && !globalY) {
      return;
    }

    this.state.touchable.positionOnActivate && Position.release(this.state.touchable.positionOnActivate);
    this.state.touchable.dimensionsOnActivate && BoundingDimensions.release(this.state.touchable.dimensionsOnActivate);
    this.state.touchable.positionOnActivate = Position.getPooled(globalX, globalY);
    this.state.touchable.dimensionsOnActivate = BoundingDimensions.getPooled(w, h);
  },
  _handleDelay: function _handleDelay(e) {
    this.touchableDelayTimeout = null;

    this._receiveSignal(Signals.DELAY, e);
  },
  _handleLongDelay: function _handleLongDelay(e) {
    this.longPressDelayTimeout = null;
    var curState = this.state.touchable.touchState;

    if (curState !== States.RESPONDER_ACTIVE_PRESS_IN && curState !== States.RESPONDER_ACTIVE_LONG_PRESS_IN) {
      console.error('Attempted to transition from state `' + curState + '` to `' + States.RESPONDER_ACTIVE_LONG_PRESS_IN + '`, which is not supported. This is ' + 'most likely due to `Touchable.longPressDelayTimeout` not being cancelled.');
    } else {
      this._receiveSignal(Signals.LONG_PRESS_DETECTED, e);
    }
  },
  _receiveSignal: function _receiveSignal(signal, e) {
    var responderID = this.state.touchable.responderID;
    var curState = this.state.touchable.touchState;
    var nextState = Transitions[curState] && Transitions[curState][signal];

    if (!responderID && signal === Signals.RESPONDER_RELEASE) {
      return;
    }

    if (!nextState) {
      throw new Error('Unrecognized signal `' + signal + '` or state `' + curState + '` for Touchable responder `' + responderID + '`');
    }

    if (nextState === States.ERROR) {
      throw new Error('Touchable cannot transition from `' + curState + '` to `' + signal + '` for responder `' + responderID + '`');
    }

    if (curState !== nextState) {
      this._performSideEffectsForTransition(curState, nextState, signal, e);

      this.state.touchable.touchState = nextState;
    }
  },
  _cancelLongPressDelayTimeout: function _cancelLongPressDelayTimeout() {
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.longPressDelayTimeout = null;
  },
  _isHighlight: function _isHighlight(state) {
    return state === States.RESPONDER_ACTIVE_PRESS_IN || state === States.RESPONDER_ACTIVE_LONG_PRESS_IN;
  },
  _savePressInLocation: function _savePressInLocation(e) {
    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;
    var locationX = touch && touch.locationX;
    var locationY = touch && touch.locationY;
    this.pressInLocation = {
      pageX: pageX,
      pageY: pageY,
      locationX: locationX,
      locationY: locationY
    };
  },
  _getDistanceBetweenPoints: function _getDistanceBetweenPoints(aX, aY, bX, bY) {
    var deltaX = aX - bX;
    var deltaY = aY - bY;
    return Math.sqrt(deltaX * deltaX + deltaY * deltaY);
  },
  _performSideEffectsForTransition: function _performSideEffectsForTransition(curState, nextState, signal, e) {
    var curIsHighlight = this._isHighlight(curState);

    var newIsHighlight = this._isHighlight(nextState);

    var isFinalSignal = signal === Signals.RESPONDER_TERMINATED || signal === Signals.RESPONDER_RELEASE;

    if (isFinalSignal) {
      this._cancelLongPressDelayTimeout();
    }

    var isInitialTransition = curState === States.NOT_RESPONDER && nextState === States.RESPONDER_INACTIVE_PRESS_IN;
    var isActiveTransition = !IsActive[curState] && IsActive[nextState];

    if (isInitialTransition || isActiveTransition) {
      this._remeasureMetricsOnActivation();
    }

    if (IsPressingIn[curState] && signal === Signals.LONG_PRESS_DETECTED) {
      this.touchableHandleLongPress && this.touchableHandleLongPress(e);
    }

    if (newIsHighlight && !curIsHighlight) {
      this._startHighlight(e);
    } else if (!newIsHighlight && curIsHighlight) {
      this._endHighlight(e);
    }

    if (IsPressingIn[curState] && signal === Signals.RESPONDER_RELEASE) {
      var hasLongPressHandler = !!this.props.onLongPress;
      var pressIsLongButStillCallOnPress = IsLongPressingIn[curState] && (!hasLongPressHandler || !this.touchableLongPressCancelsPress());
      var shouldInvokePress = !IsLongPressingIn[curState] || pressIsLongButStillCallOnPress;

      if (shouldInvokePress && this.touchableHandlePress) {
        if (!newIsHighlight && !curIsHighlight) {
          this._startHighlight(e);

          this._endHighlight(e);
        }

        if (Platform.OS === 'android') {
          this._playTouchSound();
        }

        this.touchableHandlePress(e);
      }
    }

    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.touchableDelayTimeout = null;
  },
  _playTouchSound: function _playTouchSound() {
    UIManager.playTouchSound();
  },
  _startHighlight: function _startHighlight(e) {
    this._savePressInLocation(e);

    this.touchableHandleActivePressIn && this.touchableHandleActivePressIn(e);
  },
  _endHighlight: function _endHighlight(e) {
    var _this = this;

    if (this.touchableHandleActivePressOut) {
      if (this.touchableGetPressOutDelayMS && this.touchableGetPressOutDelayMS()) {
        this.pressOutDelayTimeout = setTimeout(function () {
          _this.touchableHandleActivePressOut(e);
        }, this.touchableGetPressOutDelayMS());
      } else {
        this.touchableHandleActivePressOut(e);
      }
    }
  },
  withoutDefaultFocusAndBlur: {}
};
var touchableHandleFocus = TouchableMixin.touchableHandleFocus,
    touchableHandleBlur = TouchableMixin.touchableHandleBlur,
    TouchableMixinWithoutDefaultFocusAndBlur = (0, _objectWithoutProperties2.default)(TouchableMixin, ["touchableHandleFocus", "touchableHandleBlur"]);
TouchableMixin.withoutDefaultFocusAndBlur = TouchableMixinWithoutDefaultFocusAndBlur;
var Touchable = {
  Mixin: TouchableMixin,
  TOUCH_TARGET_DEBUG: false,
  renderDebugView: function renderDebugView(_ref) {
    var color = _ref.color,
        hitSlop = _ref.hitSlop;

    if (!Touchable.TOUCH_TARGET_DEBUG) {
      return null;
    }

    if (!__DEV__) {
      throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!');
    }

    var debugHitSlopStyle = {};
    hitSlop = hitSlop || {
      top: 0,
      bottom: 0,
      left: 0,
      right: 0
    };

    for (var key in hitSlop) {
      debugHitSlopStyle[key] = -hitSlop[key];
    }

    var normalizedColor = normalizeColor(color);

    if (typeof normalizedColor !== 'number') {
      return null;
    }

    var hexColor = '#' + ('00000000' + normalizedColor.toString(16)).substr(-8);
    return React.createElement(View, {
      pointerEvents: "none",
      style: [styles.debug, _objectSpread({
        borderColor: hexColor.slice(0, -2) + '55',
        backgroundColor: hexColor.slice(0, -2) + '0F'
      }, debugHitSlopStyle)]
    });
  }
};
var styles = StyleSheet.create({
  debug: {
    position: 'absolute',
    borderWidth: 1,
    borderStyle: 'dashed'
  }
});
module.exports = Touchable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZS5qcyJdLCJuYW1lcyI6WyJCb3VuZGluZ0RpbWVuc2lvbnMiLCJyZXF1aXJlIiwiUGxhdGZvcm0iLCJQb3NpdGlvbiIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTdHlsZVNoZWV0IiwiVFZFdmVudEhhbmRsZXIiLCJVSU1hbmFnZXIiLCJWaWV3Iiwia2V5TWlycm9yIiwibm9ybWFsaXplQ29sb3IiLCJleHRyYWN0U2luZ2xlVG91Y2giLCJuYXRpdmVFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsImhhc1RvdWNoZXMiLCJsZW5ndGgiLCJoYXNDaGFuZ2VkVG91Y2hlcyIsIlN0YXRlcyIsIk5PVF9SRVNQT05ERVIiLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4iLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiIsIlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCIsIkVSUk9SIiwiYmFzZVN0YXRlc0NvbmRpdGlvbnMiLCJJc0FjdGl2ZSIsIklzUHJlc3NpbmdJbiIsIklzTG9uZ1ByZXNzaW5nSW4iLCJTaWduYWxzIiwiREVMQVkiLCJSRVNQT05ERVJfR1JBTlQiLCJSRVNQT05ERVJfUkVMRUFTRSIsIlJFU1BPTkRFUl9URVJNSU5BVEVEIiwiRU5URVJfUFJFU1NfUkVDVCIsIkxFQVZFX1BSRVNTX1JFQ1QiLCJMT05HX1BSRVNTX0RFVEVDVEVEIiwiVHJhbnNpdGlvbnMiLCJlcnJvciIsIkhJR0hMSUdIVF9ERUxBWV9NUyIsIlBSRVNTX0VYUEFORF9QWCIsIkxPTkdfUFJFU1NfVEhSRVNIT0xEIiwiTE9OR19QUkVTU19ERUxBWV9NUyIsIkxPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCIsIlRvdWNoYWJsZU1peGluIiwiY29tcG9uZW50RGlkTW91bnQiLCJpc1RWIiwiX3R2RXZlbnRIYW5kbGVyIiwiZW5hYmxlIiwiY21wIiwiZXZ0IiwibXlUYWciLCJmaW5kTm9kZUhhbmRsZSIsImRpc3BhdGNoQ29uZmlnIiwidGFnIiwiZXZlbnRUeXBlIiwidG91Y2hhYmxlSGFuZGxlRm9jdXMiLCJ0b3VjaGFibGVIYW5kbGVCbHVyIiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJwcm9wcyIsImRpc2FibGVkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkaXNhYmxlIiwidG91Y2hhYmxlRGVsYXlUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwibG9uZ1ByZXNzRGVsYXlUaW1lb3V0IiwicHJlc3NPdXREZWxheVRpbWVvdXQiLCJ0b3VjaGFibGVHZXRJbml0aWFsU3RhdGUiLCJ0b3VjaGFibGUiLCJ0b3VjaFN0YXRlIiwidW5kZWZpbmVkIiwicmVzcG9uZGVySUQiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiIsInRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwidG91Y2hhYmxlTG9uZ1ByZXNzQ2FuY2Vsc1ByZXNzIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJlIiwiZGlzcGF0Y2hJRCIsImN1cnJlbnRUYXJnZXQiLCJwZXJzaXN0Iiwic3RhdGUiLCJfcmVjZWl2ZVNpZ25hbCIsImRlbGF5TVMiLCJ0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TIiwiTWF0aCIsIm1heCIsImlzTmFOIiwic2V0VGltZW91dCIsIl9oYW5kbGVEZWxheSIsImJpbmQiLCJsb25nRGVsYXlNUyIsInRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMiLCJfaGFuZGxlTG9uZ0RlbGF5IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInByZXNzSW5Mb2NhdGlvbiIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmUiLCJwb3NpdGlvbk9uQWN0aXZhdGUiLCJkaW1lbnNpb25zT25BY3RpdmF0ZSIsInByZXNzUmVjdE9mZnNldCIsInRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldCIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInByZXNzRXhwYW5kTGVmdCIsInByZXNzRXhwYW5kVG9wIiwicHJlc3NFeHBhbmRSaWdodCIsInByZXNzRXhwYW5kQm90dG9tIiwiaGl0U2xvcCIsInRvdWNoYWJsZUdldEhpdFNsb3AiLCJ0b3VjaCIsInBhZ2VYIiwicGFnZVkiLCJtb3ZlZERpc3RhbmNlIiwiX2dldERpc3RhbmNlQmV0d2VlblBvaW50cyIsIl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQiLCJpc1RvdWNoV2l0aGluQWN0aXZlIiwid2lkdGgiLCJoZWlnaHQiLCJwcmV2U3RhdGUiLCJjdXJTdGF0ZSIsIm9uRm9jdXMiLCJvbkJsdXIiLCJfcmVtZWFzdXJlTWV0cmljc09uQWN0aXZhdGlvbiIsIm1lYXN1cmUiLCJfaGFuZGxlUXVlcnlMYXlvdXQiLCJsIiwidCIsInciLCJoIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJyZWxlYXNlIiwiZ2V0UG9vbGVkIiwiY29uc29sZSIsInNpZ25hbCIsIm5leHRTdGF0ZSIsIkVycm9yIiwiX3BlcmZvcm1TaWRlRWZmZWN0c0ZvclRyYW5zaXRpb24iLCJfaXNIaWdobGlnaHQiLCJfc2F2ZVByZXNzSW5Mb2NhdGlvbiIsImxvY2F0aW9uWCIsImxvY2F0aW9uWSIsImFYIiwiYVkiLCJiWCIsImJZIiwiZGVsdGFYIiwiZGVsdGFZIiwic3FydCIsImN1cklzSGlnaGxpZ2h0IiwibmV3SXNIaWdobGlnaHQiLCJpc0ZpbmFsU2lnbmFsIiwiaXNJbml0aWFsVHJhbnNpdGlvbiIsImlzQWN0aXZlVHJhbnNpdGlvbiIsInRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyIsIl9zdGFydEhpZ2hsaWdodCIsIl9lbmRIaWdobGlnaHQiLCJoYXNMb25nUHJlc3NIYW5kbGVyIiwib25Mb25nUHJlc3MiLCJwcmVzc0lzTG9uZ0J1dFN0aWxsQ2FsbE9uUHJlc3MiLCJzaG91bGRJbnZva2VQcmVzcyIsIk9TIiwiX3BsYXlUb3VjaFNvdW5kIiwicGxheVRvdWNoU291bmQiLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQiLCJ0b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVMiLCJ3aXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1ciIsIlRvdWNoYWJsZU1peGluV2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXIiLCJUb3VjaGFibGUiLCJNaXhpbiIsIlRPVUNIX1RBUkdFVF9ERUJVRyIsInJlbmRlckRlYnVnVmlldyIsImNvbG9yIiwiX19ERVZfXyIsImRlYnVnSGl0U2xvcFN0eWxlIiwia2V5Iiwibm9ybWFsaXplZENvbG9yIiwiaGV4Q29sb3IiLCJ0b1N0cmluZyIsInN1YnN0ciIsInN0eWxlcyIsImRlYnVnIiwiYm9yZGVyQ29sb3IiLCJzbGljZSIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZSIsInBvc2l0aW9uIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJTdHlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOzs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyx3QkFBbEM7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHRCxPQUFPLDRCQUF4Qjs7QUFDQSxJQUFNRSxRQUFRLEdBQUdGLE9BQU8sY0FBeEI7O0FBQ0EsSUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxJQUFNSSxXQUFXLEdBQUdKLE9BQU8sb0NBQTNCOztBQUNBLElBQU1LLFVBQVUsR0FBR0wsT0FBTywrQkFBMUI7O0FBQ0EsSUFBTU0sY0FBYyxHQUFHTixPQUFPLDZCQUE5Qjs7QUFDQSxJQUFNTyxTQUFTLEdBQUdQLE9BQU8sK0JBQXpCOztBQUNBLElBQU1RLElBQUksR0FBR1IsT0FB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UCxHQUFpQnRCLFNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQm91bmRpbmdEaW1lbnNpb25zID0gcmVxdWlyZSgnLi9Cb3VuZGluZ0RpbWVuc2lvbnMnKTtcbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJyk7XG5jb25zdCBQb3NpdGlvbiA9IHJlcXVpcmUoJy4vUG9zaXRpb24nKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnKTtcbmNvbnN0IFRWRXZlbnRIYW5kbGVyID0gcmVxdWlyZSgnLi4vQXBwbGVUVi9UVkV2ZW50SGFuZGxlcicpO1xuY29uc3QgVUlNYW5hZ2VyID0gcmVxdWlyZSgnLi4vLi4vUmVhY3ROYXRpdmUvVUlNYW5hZ2VyJyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vVmlldy9WaWV3Jyk7XG5cbmNvbnN0IGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuY29uc3Qgbm9ybWFsaXplQ29sb3IgPSByZXF1aXJlKCcuLi8uLi9Db2xvci9ub3JtYWxpemVDb2xvcicpO1xuXG5pbXBvcnQgdHlwZSB7UHJlc3NFdmVudH0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5cbmNvbnN0IGV4dHJhY3RTaW5nbGVUb3VjaCA9IG5hdGl2ZUV2ZW50ID0+IHtcbiAgY29uc3QgdG91Y2hlcyA9IG5hdGl2ZUV2ZW50LnRvdWNoZXM7XG4gIGNvbnN0IGNoYW5nZWRUb3VjaGVzID0gbmF0aXZlRXZlbnQuY2hhbmdlZFRvdWNoZXM7XG4gIGNvbnN0IGhhc1RvdWNoZXMgPSB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID4gMDtcbiAgY29uc3QgaGFzQ2hhbmdlZFRvdWNoZXMgPSBjaGFuZ2VkVG91Y2hlcyAmJiBjaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwO1xuXG4gIHJldHVybiAhaGFzVG91Y2hlcyAmJiBoYXNDaGFuZ2VkVG91Y2hlc1xuICAgID8gY2hhbmdlZFRvdWNoZXNbMF1cbiAgICA6IGhhc1RvdWNoZXNcbiAgICAgID8gdG91Y2hlc1swXVxuICAgICAgOiBuYXRpdmVFdmVudDtcbn07XG5cbi8qKlxuICogYFRvdWNoYWJsZWA6IFRhcHMgZG9uZSByaWdodC5cbiAqXG4gKiBZb3UgaG9vayB5b3VyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAgZXZlbnRzIGludG8gYFRvdWNoYWJsZWAuIGBUb3VjaGFibGVgXG4gKiB3aWxsIG1lYXN1cmUgdGltZS9nZW9tZXRyeSBhbmQgdGVsbHMgeW91IHdoZW4gdG8gZ2l2ZSBmZWVkYmFjayB0byB0aGUgdXNlci5cbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09IFRvdWNoYWJsZSBUdXRvcmlhbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBUaGUgYFRvdWNoYWJsZWAgbWl4aW4gaGVscHMgeW91IGhhbmRsZSB0aGUgXCJwcmVzc1wiIGludGVyYWN0aW9uLiBJdCBhbmFseXplc1xuICogdGhlIGdlb21ldHJ5IG9mIGVsZW1lbnRzLCBhbmQgb2JzZXJ2ZXMgd2hlbiBhbm90aGVyIHJlc3BvbmRlciAoc2Nyb2xsIHZpZXdcbiAqIGV0YykgaGFzIHN0b2xlbiB0aGUgdG91Y2ggbG9jay4gSXQgbm90aWZpZXMgeW91ciBjb21wb25lbnQgd2hlbiBpdCBzaG91bGRcbiAqIGdpdmUgZmVlZGJhY2sgdG8gdGhlIHVzZXIuIChib3VuY2luZy9oaWdobGlnaHRpbmcvdW5oaWdobGlnaHRpbmcpLlxuICpcbiAqIC0gV2hlbiBhIHRvdWNoIHdhcyBhY3RpdmF0ZWQgKHR5cGljYWxseSB5b3UgaGlnaGxpZ2h0KVxuICogLSBXaGVuIGEgdG91Y2ggd2FzIGRlYWN0aXZhdGVkICh0eXBpY2FsbHkgeW91IHVuaGlnaGxpZ2h0KVxuICogLSBXaGVuIGEgdG91Y2ggd2FzIFwicHJlc3NlZFwiIC0gYSB0b3VjaCBlbmRlZCB3aGlsZSBzdGlsbCB3aXRoaW4gdGhlIGdlb21ldHJ5XG4gKiAgIG9mIHRoZSBlbGVtZW50LCBhbmQgbm8gb3RoZXIgZWxlbWVudCAobGlrZSBzY3JvbGxlcikgaGFzIFwic3RvbGVuXCIgdG91Y2hcbiAqICAgbG9jayAoXCJyZXNwb25kZXJcIikgKFR5cGljYWxseSB5b3UgYm91bmNlIHRoZSBlbGVtZW50KS5cbiAqXG4gKiBBIGdvb2QgdGFwIGludGVyYWN0aW9uIGlzbid0IGFzIHNpbXBsZSBhcyB5b3UgbWlnaHQgdGhpbmsuIFRoZXJlIHNob3VsZCBiZSBhXG4gKiBzbGlnaHQgZGVsYXkgYmVmb3JlIHNob3dpbmcgYSBoaWdobGlnaHQgd2hlbiBzdGFydGluZyBhIHRvdWNoLiBJZiBhXG4gKiBzdWJzZXF1ZW50IHRvdWNoIG1vdmUgZXhjZWVkcyB0aGUgYm91bmRhcnkgb2YgdGhlIGVsZW1lbnQsIGl0IHNob3VsZFxuICogdW5oaWdobGlnaHQsIGJ1dCBpZiB0aGF0IHNhbWUgdG91Y2ggaXMgYnJvdWdodCBiYWNrIHdpdGhpbiB0aGUgYm91bmRhcnksIGl0XG4gKiBzaG91bGQgcmVoaWdobGlnaHQgYWdhaW4uIEEgdG91Y2ggY2FuIG1vdmUgaW4gYW5kIG91dCBvZiB0aGF0IGJvdW5kYXJ5XG4gKiBzZXZlcmFsIHRpbWVzLCBlYWNoIHRpbWUgdG9nZ2xpbmcgaGlnaGxpZ2h0aW5nLCBidXQgYSBcInByZXNzXCIgaXMgb25seVxuICogdHJpZ2dlcmVkIGlmIHRoYXQgdG91Y2ggZW5kcyB3aGlsZSB3aXRoaW4gdGhlIGVsZW1lbnQncyBib3VuZGFyeSBhbmQgbm9cbiAqIHNjcm9sbGVyIChvciBhbnl0aGluZyBlbHNlKSBoYXMgc3RvbGVuIHRoZSBsb2NrIG9uIHRvdWNoZXMuXG4gKlxuICogVG8gY3JlYXRlIGEgbmV3IHR5cGUgb2YgY29tcG9uZW50IHRoYXQgaGFuZGxlcyBpbnRlcmFjdGlvbiB1c2luZyB0aGVcbiAqIGBUb3VjaGFibGVgIG1peGluLCBkbyB0aGUgZm9sbG93aW5nOlxuICpcbiAqIC0gSW5pdGlhbGl6ZSB0aGUgYFRvdWNoYWJsZWAgc3RhdGUuXG4gKlxuICogICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiBtZXJnZSh0aGlzLnRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSgpLCB5b3VyQ29tcG9uZW50U3RhdGUpO1xuICogICB9XG4gKlxuICogLSBDaG9vc2UgdGhlIHJlbmRlcmVkIGNvbXBvbmVudCB3aG8ncyB0b3VjaGVzIHNob3VsZCBzdGFydCB0aGUgaW50ZXJhY3RpdmVcbiAqICAgc2VxdWVuY2UuIE9uIHRoYXQgcmVuZGVyZWQgbm9kZSwgZm9yd2FyZCBhbGwgYFRvdWNoYWJsZWAgcmVzcG9uZGVyXG4gKiAgIGhhbmRsZXJzLiBZb3UgY2FuIGNob29zZSBhbnkgcmVuZGVyZWQgbm9kZSB5b3UgbGlrZS4gQ2hvb3NlIGEgbm9kZSB3aG9zZVxuICogICBoaXQgdGFyZ2V0IHlvdSdkIGxpa2UgdG8gaW5zdGlnYXRlIHRoZSBpbnRlcmFjdGlvbiBzZXF1ZW5jZTpcbiAqXG4gKiAgIC8vIEluIHJlbmRlciBmdW5jdGlvbjpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8Vmlld1xuICogICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcj17dGhpcy50b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcn1cbiAqICAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0PXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdH1cbiAqICAgICAgIG9uUmVzcG9uZGVyR3JhbnQ9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnR9XG4gKiAgICAgICBvblJlc3BvbmRlck1vdmU9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZX1cbiAqICAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlfVxuICogICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlfT5cbiAqICAgICAgIDxWaWV3PlxuICogICAgICAgICBFdmVuIHRob3VnaCB0aGUgaGl0IGRldGVjdGlvbi9pbnRlcmFjdGlvbnMgYXJlIHRyaWdnZXJlZCBieSB0aGVcbiAqICAgICAgICAgd3JhcHBpbmcgKHR5cGljYWxseSBsYXJnZXIpIG5vZGUsIHdlIHVzdWFsbHkgZW5kIHVwIGltcGxlbWVudGluZ1xuICogICAgICAgICBjdXN0b20gbG9naWMgdGhhdCBoaWdobGlnaHRzIHRoaXMgaW5uZXIgb25lLlxuICogICAgICAgPC9WaWV3PlxuICogICAgIDwvVmlldz5cbiAqICAgKTtcbiAqXG4gKiAtIFlvdSBtYXkgc2V0IHVwIHlvdXIgb3duIGhhbmRsZXJzIGZvciBlYWNoIG9mIHRoZXNlIGV2ZW50cywgc28gbG9uZyBhcyB5b3VcbiAqICAgYWxzbyBpbnZva2UgdGhlIGB0b3VjaGFibGUqYCBoYW5kbGVycyBpbnNpZGUgb2YgeW91ciBjdXN0b20gaGFuZGxlci5cbiAqXG4gKiAtIEltcGxlbWVudCB0aGUgaGFuZGxlcnMgb24geW91ciBjb21wb25lbnQgY2xhc3MgaW4gb3JkZXIgdG8gcHJvdmlkZVxuICogICBmZWVkYmFjayB0byB0aGUgdXNlci4gU2VlIGRvY3VtZW50YXRpb24gZm9yIGVhY2ggb2YgdGhlc2UgY2xhc3MgbWV0aG9kc1xuICogICB0aGF0IHlvdSBzaG91bGQgaW1wbGVtZW50LlxuICpcbiAqICAgdG91Y2hhYmxlSGFuZGxlUHJlc3M6IGZ1bmN0aW9uKCkge1xuICogICAgICB0aGlzLnBlcmZvcm1Cb3VuY2VBbmltYXRpb24oKTsgIC8vIG9yIHdoYXRldmVyIHlvdSB3YW50IHRvIGRvLlxuICogICB9LFxuICogICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luOiBmdW5jdGlvbigpIHtcbiAqICAgICB0aGlzLmJlZ2luSGlnaGxpZ2h0aW5nKC4uLik7ICAvLyBXaGF0ZXZlciB5b3UgbGlrZSB0byBjb252ZXkgYWN0aXZhdGlvblxuICogICB9LFxuICogICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dDogZnVuY3Rpb24oKSB7XG4gKiAgICAgdGhpcy5lbmRIaWdobGlnaHRpbmcoLi4uKTsgIC8vIFdoYXRldmVyIHlvdSBsaWtlIHRvIGNvbnZleSBkZWFjdGl2YXRpb25cbiAqICAgfSxcbiAqXG4gKiAtIFRoZXJlIGFyZSBtb3JlIGFkdmFuY2VkIG1ldGhvZHMgeW91IGNhbiBpbXBsZW1lbnQgKHNlZSBkb2N1bWVudGF0aW9uIGJlbG93KTpcbiAqICAgdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIDIwO1xuICogICB9XG4gKiAgIC8vIEluIHByYWN0aWNlLCAqYWx3YXlzKiB1c2UgYSBwcmVkZWNsYXJlZCBjb25zdGFudCAoY29uc2VydmUgbWVtb3J5KS5cbiAqICAgdG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4ge3RvcDogMjAsIGxlZnQ6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMTAwfTtcbiAqICAgfVxuICovXG5cbi8qKlxuICogVG91Y2hhYmxlIHN0YXRlcy5cbiAqL1xuXG5jb25zdCBTdGF0ZXMgPSBrZXlNaXJyb3Ioe1xuICBOT1RfUkVTUE9OREVSOiBudWxsLCAvLyBOb3QgdGhlIHJlc3BvbmRlclxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU46IG51bGwsIC8vIFJlc3BvbmRlciwgaW5hY3RpdmUsIGluIHRoZSBgUHJlc3NSZWN0YFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUOiBudWxsLCAvLyBSZXNwb25kZXIsIGluYWN0aXZlLCBvdXQgb2YgYFByZXNzUmVjdGBcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjogbnVsbCwgLy8gUmVzcG9uZGVyLCBhY3RpdmUsIGluIHRoZSBgUHJlc3NSZWN0YFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVDogbnVsbCwgLy8gUmVzcG9uZGVyLCBhY3RpdmUsIG91dCBvZiBgUHJlc3NSZWN0YFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IG51bGwsIC8vIFJlc3BvbmRlciwgYWN0aXZlLCBpbiB0aGUgYFByZXNzUmVjdGAsIGFmdGVyIGxvbmcgcHJlc3MgdGhyZXNob2xkXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQ6IG51bGwsIC8vIFJlc3BvbmRlciwgYWN0aXZlLCBvdXQgb2YgYFByZXNzUmVjdGAsIGFmdGVyIGxvbmcgcHJlc3MgdGhyZXNob2xkXG4gIEVSUk9SOiBudWxsLFxufSk7XG5cbnR5cGUgU3RhdGUgPVxuICB8IHR5cGVvZiBTdGF0ZXMuTk9UX1JFU1BPTkRFUlxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVFxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUXG4gIHwgdHlwZW9mIFN0YXRlcy5FUlJPUjtcblxuLypcbiAqIFF1aWNrIGxvb2t1cCBtYXAgZm9yIHN0YXRlcyB0aGF0IGFyZSBjb25zaWRlcmVkIHRvIGJlIFwiYWN0aXZlXCJcbiAqL1xuXG5jb25zdCBiYXNlU3RhdGVzQ29uZGl0aW9ucyA9IHtcbiAgTk9UX1JFU1BPTkRFUjogZmFsc2UsXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjogZmFsc2UsXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQ6IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiBmYWxzZSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUOiBmYWxzZSxcbiAgRVJST1I6IGZhbHNlLFxufTtcblxuY29uc3QgSXNBY3RpdmUgPSB7XG4gIC4uLmJhc2VTdGF0ZXNDb25kaXRpb25zLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVDogdHJ1ZSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjogdHJ1ZSxcbn07XG5cbi8qKlxuICogUXVpY2sgbG9va3VwIGZvciBzdGF0ZXMgdGhhdCBhcmUgY29uc2lkZXJlZCB0byBiZSBcInByZXNzaW5nXCIgYW5kIGFyZVxuICogdGhlcmVmb3JlIGVsaWdpYmxlIHRvIHJlc3VsdCBpbiBhIFwic2VsZWN0aW9uXCIgaWYgdGhlIHByZXNzIHN0b3BzLlxuICovXG5jb25zdCBJc1ByZXNzaW5nSW4gPSB7XG4gIC4uLmJhc2VTdGF0ZXNDb25kaXRpb25zLFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU46IHRydWUsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IHRydWUsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTjogdHJ1ZSxcbn07XG5cbmNvbnN0IElzTG9uZ1ByZXNzaW5nSW4gPSB7XG4gIC4uLmJhc2VTdGF0ZXNDb25kaXRpb25zLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IHRydWUsXG59O1xuXG4vKipcbiAqIElucHV0cyB0byB0aGUgc3RhdGUgbWFjaGluZS5cbiAqL1xuY29uc3QgU2lnbmFscyA9IGtleU1pcnJvcih7XG4gIERFTEFZOiBudWxsLFxuICBSRVNQT05ERVJfR1JBTlQ6IG51bGwsXG4gIFJFU1BPTkRFUl9SRUxFQVNFOiBudWxsLFxuICBSRVNQT05ERVJfVEVSTUlOQVRFRDogbnVsbCxcbiAgRU5URVJfUFJFU1NfUkVDVDogbnVsbCxcbiAgTEVBVkVfUFJFU1NfUkVDVDogbnVsbCxcbiAgTE9OR19QUkVTU19ERVRFQ1RFRDogbnVsbCxcbn0pO1xuXG50eXBlIFNpZ25hbCA9XG4gIHwgdHlwZW9mIFNpZ25hbHMuREVMQVlcbiAgfCB0eXBlb2YgU2lnbmFscy5SRVNQT05ERVJfR1JBTlRcbiAgfCB0eXBlb2YgU2lnbmFscy5SRVNQT05ERVJfUkVMRUFTRVxuICB8IHR5cGVvZiBTaWduYWxzLlJFU1BPTkRFUl9URVJNSU5BVEVEXG4gIHwgdHlwZW9mIFNpZ25hbHMuRU5URVJfUFJFU1NfUkVDVFxuICB8IHR5cGVvZiBTaWduYWxzLkxFQVZFX1BSRVNTX1JFQ1RcbiAgfCB0eXBlb2YgU2lnbmFscy5MT05HX1BSRVNTX0RFVEVDVEVEO1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSBTdGF0ZXMgeCBTaWduYWxzID0+IFN0YXRlc1xuICovXG5jb25zdCBUcmFuc2l0aW9ucyA9IHtcbiAgTk9UX1JFU1BPTkRFUjoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5FUlJPUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuRVJST1IsXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLkVSUk9SLFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOOiB7XG4gICAgREVMQVk6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVCxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuRVJST1IsXG4gIH0sXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQ6IHtcbiAgICBERUxBWTogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VULFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVCxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuRVJST1IsXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IHtcbiAgICBERUxBWTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4sXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVCxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuRVJST1IsXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTjoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4sXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQ6IHtcbiAgICBERUxBWTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuRVJST1IsXG4gIH0sXG4gIGVycm9yOiB7XG4gICAgREVMQVk6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICB9LFxufTtcblxuLy8gPT09PSBUeXBpY2FsIENvbnN0YW50cyBmb3IgaW50ZWdyYXRpbmcgaW50byBVSSBjb21wb25lbnRzID09PT1cbi8vIHZhciBISVRfRVhQQU5EX1BYID0gMjA7XG4vLyB2YXIgSElUX1ZFUlRfT0ZGU0VUX1BYID0gMTA7XG5jb25zdCBISUdITElHSFRfREVMQVlfTVMgPSAxMzA7XG5cbmNvbnN0IFBSRVNTX0VYUEFORF9QWCA9IDIwO1xuXG5jb25zdCBMT05HX1BSRVNTX1RIUkVTSE9MRCA9IDUwMDtcblxuY29uc3QgTE9OR19QUkVTU19ERUxBWV9NUyA9IExPTkdfUFJFU1NfVEhSRVNIT0xEIC0gSElHSExJR0hUX0RFTEFZX01TO1xuXG5jb25zdCBMT05HX1BSRVNTX0FMTE9XRURfTU9WRU1FTlQgPSAxMDtcblxuLy8gRGVmYXVsdCBhbW91bnQgXCJhY3RpdmVcIiByZWdpb24gcHJvdHJ1ZGVzIGJleW9uZCBib3hcblxuLyoqXG4gKiBCeSBjb252ZW50aW9uLCBtZXRob2RzIHByZWZpeGVkIHdpdGggdW5kZXJzY29yZXMgYXJlIG1lYW50IHRvIGJlIEBwcml2YXRlLFxuICogYW5kIG5vdCBAcHJvdGVjdGVkLiBNaXhlcnMgc2hvdWxkbid0IGFjY2VzcyB0aGVtIC0gbm90IGV2ZW4gdG8gcHJvdmlkZSB0aGVtXG4gKiBhcyBjYWxsYmFjayBoYW5kbGVycy5cbiAqXG4gKlxuICogPT09PT09PT09PSBHZW9tZXRyeSA9PT09PT09PT1cbiAqIGBUb3VjaGFibGVgIG9ubHkgYXNzdW1lcyB0aGF0IHRoZXJlIGV4aXN0cyBhIGBIaXRSZWN0YCBub2RlLiBUaGUgYFByZXNzUmVjdGBcbiAqIGlzIGFuIGFic3RyYWN0IGJveCB0aGF0IGlzIGV4dGVuZGVkIGJleW9uZCB0aGUgYEhpdFJlY3RgLlxuICpcbiAqICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgfCAtIFwiU3RhcnRcIiBldmVudHMgaW4gYEhpdFJlY3RgIGNhdXNlIGBIaXRSZWN0YFxuICogIHwgICstLS0tLS0tLS0tLS0tLS0tLS0tLSsgIHwgICB0byBiZWNvbWUgdGhlIHJlc3BvbmRlci5cbiAqICB8ICB8ICArLS0tLS0tLS0tLS0tLS0rICB8ICB8IC0gYEhpdFJlY3RgIGlzIHR5cGljYWxseSBleHBhbmRlZCBhcm91bmRcbiAqICB8ICB8ICB8ICAgICAgICAgICAgICB8ICB8ICB8ICAgdGhlIGBWaXN1YWxSZWN0YCwgYnV0IHNoaWZ0ZWQgZG93bndhcmQuXG4gKiAgfCAgfCAgfCAgVmlzdWFsUmVjdCAgfCAgfCAgfCAtIEFmdGVyIHByZXNzaW5nIGRvd24sIGFmdGVyIHNvbWUgZGVsYXksXG4gKiAgfCAgfCAgfCAgICAgICAgICAgICAgfCAgfCAgfCAgIGFuZCBiZWZvcmUgbGV0dGluZyB1cCwgdGhlIFZpc3VhbCBSZWFjdFxuICogIHwgIHwgICstLS0tLS0tLS0tLS0tLSsgIHwgIHwgICB3aWxsIGJlY29tZSBcImFjdGl2ZVwiLiBUaGlzIG1ha2VzIGl0IGVsaWdpYmxlXG4gKiAgfCAgfCAgICAgSGl0UmVjdCAgICAgICAgfCAgfCAgIGZvciBiZWluZyBoaWdobGlnaHRlZCAoc28gbG9uZyBhcyB0aGVcbiAqICB8ICArLS0tLS0tLS0tLS0tLS0tLS0tLS0rICB8ICAgcHJlc3MgcmVtYWlucyBpbiB0aGUgYFByZXNzUmVjdGApLlxuICogIHwgICAgICAgIFByZXNzUmVjdCAgICAgbyAgIHxcbiAqICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0rXG4gKiAgICAgICAgICAgT3V0IFJlZ2lvbiAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0rIFRoaXMgZ2FwIGJldHdlZW4gdGhlIGBIaXRSZWN0YCBhbmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFByZXNzUmVjdGAgYWxsb3dzIGEgdG91Y2ggdG8gbW92ZSBmYXIgYXdheVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHRoZSBvcmlnaW5hbCBoaXQgcmVjdCwgYW5kIHJlbWFpblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZCwgYW5kIGVsaWdpYmxlIGZvciBhIFwiUHJlc3NcIi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VzdG9taXplIHRoaXMgdmlhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQoKWAuXG4gKlxuICpcbiAqXG4gKiA9PT09PT09IFN0YXRlIE1hY2hpbmUgPT09PT09PVxuICpcbiAqICstLS0tLS0tLS0tLS0tKyA8LS0tKyBSRVNQT05ERVJfUkVMRUFTRVxuICogfE5PVF9SRVNQT05ERVJ8XG4gKiArLS0tLS0tLS0tLS0tLSsgPC0tLSsgUkVTUE9OREVSX1RFUk1JTkFURURcbiAqICAgICArXG4gKiAgICAgfCBSRVNQT05ERVJfR1JBTlQgKEhpdFJlY3QpXG4gKiAgICAgdlxuICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgIERFTEFZICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICBUICsgREVMQVkgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiB8UkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOfCstLS0tLS0tLT58UkVTUE9OREVSX0FDVElWRV9QUkVTU19JTnwgKy0tLS0tLS0tLS0tLT4gfFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTnxcbiAqICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICogICAgICsgICAgICAgICAgICBeICAgICAgICAgICAgICAgICAgICAgICAgICsgICAgICAgICAgIF4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgICAgICAgICBeXG4gKiAgICAgfExFQVZFXyAgICAgIHxFTlRFUl8gICAgICAgICAgICAgICAgICAgfExFQVZFXyAgICAgfEVOVEVSXyAgICAgICAgICAgICAgICAgICAgICAgICAgIHxMRUFWRV8gICAgIHxFTlRFUl9cbiAqICAgICB8UFJFU1NfUkVDVCAgfFBSRVNTX1JFQ1QgICAgICAgICAgICAgICB8UFJFU1NfUkVDVCB8UFJFU1NfUkVDVCAgICAgICAgICAgICAgICAgICAgICAgfFBSRVNTX1JFQ1QgfFBSRVNTX1JFQ1RcbiAqICAgICB8ICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgfFxuICogICAgIHYgICAgICAgICAgICArICAgICAgICAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICArXG4gKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgIERFTEFZICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiB8UkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVHwrLS0tLS0tLT58UkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVR8ICAgICAgICAgICAgICAgfFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVR8XG4gKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKlxuICogVCArIERFTEFZID0+IExPTkdfUFJFU1NfREVMQVlfTVMgKyBERUxBWVxuICpcbiAqIE5vdCBkcmF3biBhcmUgdGhlIHNpZGUgZWZmZWN0cyBvZiBlYWNoIHRyYW5zaXRpb24uIFRoZSBtb3N0IGltcG9ydGFudCBzaWRlXG4gKiBlZmZlY3QgaXMgdGhlIGB0b3VjaGFibGVIYW5kbGVQcmVzc2AgYWJzdHJhY3QgbWV0aG9kIGludm9jYXRpb24gdGhhdCBvY2N1cnNcbiAqIHdoZW4gYSByZXNwb25kZXIgaXMgcmVsZWFzZWQgd2hpbGUgaW4gZWl0aGVyIG9mIHRoZSBcIlByZXNzXCIgc3RhdGVzLlxuICpcbiAqIFRoZSBvdGhlciBpbXBvcnRhbnQgc2lkZSBlZmZlY3RzIGFyZSB0aGUgaGlnaGxpZ2h0IGFic3RyYWN0IG1ldGhvZFxuICogaW52b2NhdGlvbnMgKGludGVybmFsIGNhbGxiYWNrcykgdG8gYmUgaW1wbGVtZW50ZWQgYnkgdGhlIG1peGVyLlxuICpcbiAqXG4gKiBAbGVuZHMgVG91Y2hhYmxlLnByb3RvdHlwZVxuICovXG5jb25zdCBUb3VjaGFibGVNaXhpbiA9IHtcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghUGxhdGZvcm0uaXNUVikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3R2RXZlbnRIYW5kbGVyID0gbmV3IFRWRXZlbnRIYW5kbGVyKCk7XG4gICAgdGhpcy5fdHZFdmVudEhhbmRsZXIuZW5hYmxlKHRoaXMsIGZ1bmN0aW9uKGNtcCwgZXZ0KSB7XG4gICAgICBjb25zdCBteVRhZyA9IFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKGNtcCk7XG4gICAgICBldnQuZGlzcGF0Y2hDb25maWcgPSB7fTtcbiAgICAgIGlmIChteVRhZyA9PT0gZXZ0LnRhZykge1xuICAgICAgICBpZiAoZXZ0LmV2ZW50VHlwZSA9PT0gJ2ZvY3VzJykge1xuICAgICAgICAgIGNtcC50b3VjaGFibGVIYW5kbGVGb2N1cyhldnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2dC5ldmVudFR5cGUgPT09ICdibHVyJykge1xuICAgICAgICAgIGNtcC50b3VjaGFibGVIYW5kbGVCbHVyKGV2dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LmV2ZW50VHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICBjbXAudG91Y2hhYmxlSGFuZGxlUHJlc3MgJiZcbiAgICAgICAgICAgICFjbXAucHJvcHMuZGlzYWJsZWQgJiZcbiAgICAgICAgICAgIGNtcC50b3VjaGFibGVIYW5kbGVQcmVzcyhldnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCB0aW1lb3V0cyBvbiB1bm1vdW50XG4gICAqL1xuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3R2RXZlbnRIYW5kbGVyKSB7XG4gICAgICB0aGlzLl90dkV2ZW50SGFuZGxlci5kaXNhYmxlKCk7XG4gICAgICBkZWxldGUgdGhpcy5fdHZFdmVudEhhbmRsZXI7XG4gICAgfVxuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCk7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0KTtcbiAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0KTtcbiAgfSxcblxuICAvKipcbiAgICogSXQncyBwcmVmZXIgdGhhdCBtaXhpbnMgZGV0ZXJtaW5lIHN0YXRlIGluIHRoaXMgd2F5LCBoYXZpbmcgdGhlIGNsYXNzXG4gICAqIGV4cGxpY2l0bHkgbWl4IHRoZSBzdGF0ZSBpbiB0aGUgb25lIGFuZCBvbmx5IGBnZXRJbml0aWFsU3RhdGVgIG1ldGhvZC5cbiAgICpcbiAgICogQHJldHVybiB7b2JqZWN0fSBTdGF0ZSBvYmplY3QgdG8gYmUgcGxhY2VkIGluc2lkZSBvZlxuICAgKiBgdGhpcy5zdGF0ZS50b3VjaGFibGVgLlxuICAgKi9cbiAgdG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG91Y2hhYmxlOiB7dG91Y2hTdGF0ZTogdW5kZWZpbmVkLCByZXNwb25kZXJJRDogbnVsbH0sXG4gICAgfTtcbiAgfSxcblxuICAvLyA9PT09IEhvb2tzIHRvIEdlc3R1cmUgUmVzcG9uZGVyIHN5c3RlbSA9PT09XG4gIC8qKlxuICAgKiBNdXN0IHJldHVybiB0cnVlIGlmIGVtYmVkZGVkIGluIGEgbmF0aXZlIHBsYXRmb3JtIHNjcm9sbCB2aWV3LlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIXRoaXMucHJvcHMucmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb247XG4gIH0sXG5cbiAgLyoqXG4gICAqIE11c3QgcmV0dXJuIHRydWUgdG8gc3RhcnQgdGhlIHByb2Nlc3Mgb2YgYFRvdWNoYWJsZWAuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmRpc2FibGVkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSB0byBjYW5jZWwgcHJlc3Mgb24gbG9uZyBwcmVzcy5cbiAgICovXG4gIHRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBsYWNlIGFzIGNhbGxiYWNrIGZvciBhIERPTSBlbGVtZW50J3MgYG9uUmVzcG9uZGVyR3JhbnRgIGV2ZW50LlxuICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBlIFN5bnRoZXRpYyBldmVudCBmcm9tIGV2ZW50IHN5c3RlbS5cbiAgICpcbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgY29uc3QgZGlzcGF0Y2hJRCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAvLyBTaW5jZSBlIGlzIHVzZWQgaW4gYSBjYWxsYmFjayBpbnZva2VkIG9uIGFub3RoZXIgZXZlbnQgbG9vcFxuICAgIC8vIChhcyBpbiBzZXRUaW1lb3V0IGV0YyksIHdlIG5lZWQgdG8gY2FsbCBlLnBlcnNpc3QoKSBvbiB0aGVcbiAgICAvLyBldmVudCB0byBtYWtlIHN1cmUgaXQgZG9lc24ndCBnZXQgcmV1c2VkIGluIHRoZSBldmVudCBvYmplY3QgcG9vbC5cbiAgICBlLnBlcnNpc3QoKTtcblxuICAgIHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQpO1xuICAgIHRoaXMucHJlc3NPdXREZWxheVRpbWVvdXQgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZSA9IFN0YXRlcy5OT1RfUkVTUE9OREVSO1xuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEID0gZGlzcGF0Y2hJRDtcbiAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuUkVTUE9OREVSX0dSQU5ULCBlKTtcbiAgICBsZXQgZGVsYXlNUyA9XG4gICAgICB0aGlzLnRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IE1hdGgubWF4KHRoaXMudG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUygpLCAwKVxuICAgICAgICA6IEhJR0hMSUdIVF9ERUxBWV9NUztcbiAgICBkZWxheU1TID0gaXNOYU4oZGVsYXlNUykgPyBISUdITElHSFRfREVMQVlfTVMgOiBkZWxheU1TO1xuICAgIGlmIChkZWxheU1TICE9PSAwKSB7XG4gICAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGF5LmJpbmQodGhpcywgZSksXG4gICAgICAgIGRlbGF5TVMsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxheShlKTtcbiAgICB9XG5cbiAgICBsZXQgbG9uZ0RlbGF5TVMgPVxuICAgICAgdGhpcy50b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBNYXRoLm1heCh0aGlzLnRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMoKSwgMTApXG4gICAgICAgIDogTE9OR19QUkVTU19ERUxBWV9NUztcbiAgICBsb25nRGVsYXlNUyA9IGlzTmFOKGxvbmdEZWxheU1TKSA/IExPTkdfUFJFU1NfREVMQVlfTVMgOiBsb25nRGVsYXlNUztcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICB0aGlzLl9oYW5kbGVMb25nRGVsYXkuYmluZCh0aGlzLCBlKSxcbiAgICAgIGxvbmdEZWxheU1TICsgZGVsYXlNUyxcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQbGFjZSBhcyBjYWxsYmFjayBmb3IgYSBET00gZWxlbWVudCdzIGBvblJlc3BvbmRlclJlbGVhc2VgIGV2ZW50LlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMucHJlc3NJbkxvY2F0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuUkVTUE9OREVSX1JFTEVBU0UsIGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQbGFjZSBhcyBjYWxsYmFjayBmb3IgYSBET00gZWxlbWVudCdzIGBvblJlc3BvbmRlclRlcm1pbmF0ZWAgZXZlbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGU6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbiA9IG51bGw7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLlJFU1BPTkRFUl9URVJNSU5BVEVELCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogUGxhY2UgYXMgY2FsbGJhY2sgZm9yIGEgRE9NIGVsZW1lbnQncyBgb25SZXNwb25kZXJNb3ZlYCBldmVudC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmU6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICAvLyBNZWFzdXJlbWVudCBtYXkgbm90IGhhdmUgcmV0dXJuZWQgeWV0LlxuICAgIGlmICghdGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcG9zaXRpb25PbkFjdGl2YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlO1xuICAgIGNvbnN0IGRpbWVuc2lvbnNPbkFjdGl2YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUuZGltZW5zaW9uc09uQWN0aXZhdGU7XG4gICAgY29uc3QgcHJlc3NSZWN0T2Zmc2V0ID0gdGhpcy50b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXRcbiAgICAgID8gdGhpcy50b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQoKVxuICAgICAgOiB7XG4gICAgICAgICAgbGVmdDogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICAgIHJpZ2h0OiBQUkVTU19FWFBBTkRfUFgsXG4gICAgICAgICAgdG9wOiBQUkVTU19FWFBBTkRfUFgsXG4gICAgICAgICAgYm90dG9tOiBQUkVTU19FWFBBTkRfUFgsXG4gICAgICAgIH07XG5cbiAgICBsZXQgcHJlc3NFeHBhbmRMZWZ0ID0gcHJlc3NSZWN0T2Zmc2V0LmxlZnQ7XG4gICAgbGV0IHByZXNzRXhwYW5kVG9wID0gcHJlc3NSZWN0T2Zmc2V0LnRvcDtcbiAgICBsZXQgcHJlc3NFeHBhbmRSaWdodCA9IHByZXNzUmVjdE9mZnNldC5yaWdodDtcbiAgICBsZXQgcHJlc3NFeHBhbmRCb3R0b20gPSBwcmVzc1JlY3RPZmZzZXQuYm90dG9tO1xuXG4gICAgY29uc3QgaGl0U2xvcCA9IHRoaXMudG91Y2hhYmxlR2V0SGl0U2xvcFxuICAgICAgPyB0aGlzLnRvdWNoYWJsZUdldEhpdFNsb3AoKVxuICAgICAgOiBudWxsO1xuXG4gICAgaWYgKGhpdFNsb3ApIHtcbiAgICAgIHByZXNzRXhwYW5kTGVmdCArPSBoaXRTbG9wLmxlZnQgfHwgMDtcbiAgICAgIHByZXNzRXhwYW5kVG9wICs9IGhpdFNsb3AudG9wIHx8IDA7XG4gICAgICBwcmVzc0V4cGFuZFJpZ2h0ICs9IGhpdFNsb3AucmlnaHQgfHwgMDtcbiAgICAgIHByZXNzRXhwYW5kQm90dG9tICs9IGhpdFNsb3AuYm90dG9tIHx8IDA7XG4gICAgfVxuXG4gICAgY29uc3QgdG91Y2ggPSBleHRyYWN0U2luZ2xlVG91Y2goZS5uYXRpdmVFdmVudCk7XG4gICAgY29uc3QgcGFnZVggPSB0b3VjaCAmJiB0b3VjaC5wYWdlWDtcbiAgICBjb25zdCBwYWdlWSA9IHRvdWNoICYmIHRvdWNoLnBhZ2VZO1xuXG4gICAgaWYgKHRoaXMucHJlc3NJbkxvY2F0aW9uKSB7XG4gICAgICBjb25zdCBtb3ZlZERpc3RhbmNlID0gdGhpcy5fZ2V0RGlzdGFuY2VCZXR3ZWVuUG9pbnRzKFxuICAgICAgICBwYWdlWCxcbiAgICAgICAgcGFnZVksXG4gICAgICAgIHRoaXMucHJlc3NJbkxvY2F0aW9uLnBhZ2VYLFxuICAgICAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbi5wYWdlWSxcbiAgICAgICk7XG4gICAgICBpZiAobW92ZWREaXN0YW5jZSA+IExPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpc1RvdWNoV2l0aGluQWN0aXZlID1cbiAgICAgIHBhZ2VYID4gcG9zaXRpb25PbkFjdGl2YXRlLmxlZnQgLSBwcmVzc0V4cGFuZExlZnQgJiZcbiAgICAgIHBhZ2VZID4gcG9zaXRpb25PbkFjdGl2YXRlLnRvcCAtIHByZXNzRXhwYW5kVG9wICYmXG4gICAgICBwYWdlWCA8XG4gICAgICAgIHBvc2l0aW9uT25BY3RpdmF0ZS5sZWZ0ICtcbiAgICAgICAgICBkaW1lbnNpb25zT25BY3RpdmF0ZS53aWR0aCArXG4gICAgICAgICAgcHJlc3NFeHBhbmRSaWdodCAmJlxuICAgICAgcGFnZVkgPFxuICAgICAgICBwb3NpdGlvbk9uQWN0aXZhdGUudG9wICtcbiAgICAgICAgICBkaW1lbnNpb25zT25BY3RpdmF0ZS5oZWlnaHQgK1xuICAgICAgICAgIHByZXNzRXhwYW5kQm90dG9tO1xuICAgIGlmIChpc1RvdWNoV2l0aGluQWN0aXZlKSB7XG4gICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlO1xuICAgICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLkVOVEVSX1BSRVNTX1JFQ1QsIGUpO1xuICAgICAgY29uc3QgY3VyU3RhdGUgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJTdGF0ZSA9PT0gU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTiAmJlxuICAgICAgICBwcmV2U3RhdGUgIT09IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU5cbiAgICAgICkge1xuICAgICAgICAvLyBmaXggZm9yIHQ3OTY3NDIwXG4gICAgICAgIHRoaXMuX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5MRUFWRV9QUkVTU19SRUNULCBlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSByZWNlaXZlcyBmb2N1cy4gTWl4ZXJzIG1pZ2h0IG92ZXJyaWRlIHRoaXMgdG9cbiAgICogdmlzdWFsbHkgZGlzdGluZ3Vpc2ggdGhlIGBWaXN1YWxSZWN0YCBzbyB0aGF0IHRoZSB1c2VyIGtub3dzIHRoYXQgaXRcbiAgICogY3VycmVudGx5IGhhcyB0aGUgZm9jdXMuIE1vc3QgcGxhdGZvcm1zIG9ubHkgc3VwcG9ydCBhIHNpbmdsZSBlbGVtZW50IGJlaW5nXG4gICAqIGZvY3VzZWQgYXQgYSB0aW1lLCBpbiB3aGljaCBjYXNlIHRoZXJlIG1heSBoYXZlIGJlZW4gYSBwcmV2aW91c2x5IGZvY3VzZWRcbiAgICogZWxlbWVudCB0aGF0IHdhcyBibHVycmVkIGp1c3QgcHJpb3IgdG8gdGhpcy4gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB3aGVuXG4gICAqIHVzaW5nIGBUb3VjaGFibGUuTWl4aW4ud2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJgLlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlRm9jdXM6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkZvY3VzICYmIHRoaXMucHJvcHMub25Gb2N1cyhlKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBpdGVtIGxvc2VzIGZvY3VzLiBNaXhlcnMgbWlnaHQgb3ZlcnJpZGUgdGhpcyB0b1xuICAgKiB2aXN1YWxseSBkaXN0aW5ndWlzaCB0aGUgYFZpc3VhbFJlY3RgIHNvIHRoYXQgdGhlIHVzZXIga25vd3MgdGhhdCBpdFxuICAgKiBubyBsb25nZXIgaGFzIGZvY3VzLiBNb3N0IHBsYXRmb3JtcyBvbmx5IHN1cHBvcnQgYSBzaW5nbGUgZWxlbWVudCBiZWluZ1xuICAgKiBmb2N1c2VkIGF0IGEgdGltZSwgaW4gd2hpY2ggY2FzZSB0aGUgZm9jdXMgbWF5IGhhdmUgbW92ZWQgdG8gYW5vdGhlci5cbiAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB3aGVuIHVzaW5nXG4gICAqIGBUb3VjaGFibGUuTWl4aW4ud2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJgLlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlQmx1cjogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uQmx1ciAmJiB0aGlzLnByb3BzLm9uQmx1cihlKTtcbiAgfSxcblxuICAvLyA9PT09IEFic3RyYWN0IEFwcGxpY2F0aW9uIENhbGxiYWNrcyA9PT09XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQuIE1peGVycyBzaG91bGQgaW1wbGVtZW50IHRoaXNcbiAgICogdG8gdmlzdWFsbHkgZGlzdGluZ3Vpc2ggdGhlIGBWaXN1YWxSZWN0YCBzbyB0aGF0IHRoZSB1c2VyIGtub3dzIHRoYXRcbiAgICogcmVsZWFzaW5nIGEgdG91Y2ggd2lsbCByZXN1bHQgaW4gYSBcInNlbGVjdGlvblwiIChhbmFsb2cgdG8gY2xpY2spLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbjogZnVuY3Rpb24sXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gaXMgXCJhY3RpdmVcIiAoaW4gdGhhdCBpdCBpcyBzdGlsbCBlbGlnaWJsZSB0byBiZWNvbWVcbiAgICogYSBcInNlbGVjdFwiKSBidXQgdGhlIHRvdWNoIGhhcyBsZWZ0IHRoZSBgUHJlc3NSZWN0YC4gVXN1YWxseSB0aGUgbWl4ZXIgd2lsbFxuICAgKiB3YW50IHRvIHVuaGlnaGxpZ2h0IHRoZSBgVmlzdWFsUmVjdGAuIElmIHRoZSB1c2VyICh3aGlsZSBwcmVzc2luZykgbW92ZXNcbiAgICogYmFjayBpbnRvIHRoZSBgUHJlc3NSZWN0YCBgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbmAgd2lsbCBiZSBpbnZva2VkXG4gICAqIGFnYWluIGFuZCB0aGUgbWl4ZXIgc2hvdWxkIHByb2JhYmx5IGhpZ2hsaWdodCB0aGUgYFZpc3VhbFJlY3RgIGFnYWluLiBUaGlzXG4gICAqIGV2ZW50IHdpbGwgbm90IGZpcmUgb24gYW4gYHRvdWNoRW5kL21vdXNlVXBgIGV2ZW50LCBvbmx5IG1vdmUgZXZlbnRzIHdoaWxlXG4gICAqIHRoZSB1c2VyIGlzIGRlcHJlc3NpbmcgdGhlIG1vdXNlL3RvdWNoLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gaXMgXCJzZWxlY3RlZFwiIC0gbWVhbmluZyB0aGUgaW50ZXJhY3Rpb24gZW5kZWQgYnlcbiAgICogbGV0dGluZyB1cCB3aGlsZSB0aGUgaXRlbSB3YXMgZWl0aGVyIGluIHRoZSBzdGF0ZVxuICAgKiBgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTmAgb3IgYFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTmAuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb25cbiAgICovXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSBpcyBsb25nIHByZXNzZWQgLSBtZWFuaW5nIHRoZSBpbnRlcmFjdGlvbiBlbmRlZCBieVxuICAgKiBsZXR0aW5nIHVwIHdoaWxlIHRoZSBpdGVtIHdhcyBpbiBgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOYC4gSWZcbiAgICogYHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzc2AgaXMgKm5vdCogcHJvdmlkZWQsIGB0b3VjaGFibGVIYW5kbGVQcmVzc2Agd2lsbFxuICAgKiBiZSBjYWxsZWQgYXMgaXQgbm9ybWFsbHkgaXMuIElmIGB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3NgIGlzIHByb3ZpZGVkLCBieVxuICAgKiBkZWZhdWx0IGFueSBgdG91Y2hhYmxlSGFuZGxlUHJlc3NgIGNhbGxiYWNrIHdpbGwgbm90IGJlIGludm9rZWQuIFRvXG4gICAqIG92ZXJyaWRlIHRoaXMgZGVmYXVsdCBiZWhhdmlvciwgb3ZlcnJpZGUgYHRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzc2BcbiAgICogdG8gcmV0dXJuIGZhbHNlLiBBcyBhIHJlc3VsdCwgYHRvdWNoYWJsZUhhbmRsZVByZXNzYCB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gICAqIGxpZnRpbmcgdXAsIGV2ZW4gaWYgYHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzc2AgaGFzIGFsc28gYmVlbiBjYWxsZWQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3M6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgbWlsbGlzIHRvIHdhaXQgYmVmb3JlIHRyaWdnZXJpbmcgYSBoaWdobGlnaHQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvblxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYW1vdW50IHRvIGV4dGVuZCB0aGUgYEhpdFJlY3RgIGludG8gdGhlIGBQcmVzc1JlY3RgLiBQb3NpdGl2ZVxuICAgKiBudW1iZXJzIG1lYW4gdGhlIHNpemUgZXhwYW5kcyBvdXR3YXJkcy5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldDogZnVuY3Rpb25cbiAgICovXG5cbiAgLy8gPT09PSBJbnRlcm5hbCBMb2dpYyA9PT09XG5cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHRoZSBgSGl0UmVjdGAgbm9kZSBvbiBhY3RpdmF0aW9uLiBUaGUgQm91bmRpbmcgcmVjdGFuZ2xlIGlzIHdpdGhcbiAgICogcmVzcGVjdCB0byB2aWV3cG9ydCAtIG5vdCBwYWdlLCBzbyBhZGRpbmcgdGhlIGBwYWdlWE9mZnNldC9wYWdlWU9mZnNldGBcbiAgICogc2hvdWxkIHJlc3VsdCBpbiBwb2ludHMgdGhhdCBhcmUgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZSBzeXN0ZW0gYXMgYW5cbiAgICogZXZlbnQncyBgZ2xvYmFsWC9nbG9iYWxZYCBkYXRhIHZhbHVlcy5cbiAgICpcbiAgICogLSBDb25zaWRlciBjYWNoaW5nIHRoaXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LCBvciBwb3NzaWJseVxuICAgKiAgIGJlaW5nIGFibGUgdG8gc2hhcmUgdGhpcyBjYWNoZSBiZXR3ZWVuIGFueSBgU2Nyb2xsTWFwYCB2aWV3LlxuICAgKlxuICAgKiBAc2lkZWVmZmVjdHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1lYXN1cmVNZXRyaWNzT25BY3RpdmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0YWcgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRDtcbiAgICBpZiAodGFnID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBVSU1hbmFnZXIubWVhc3VyZSh0YWcsIHRoaXMuX2hhbmRsZVF1ZXJ5TGF5b3V0KTtcbiAgfSxcblxuICBfaGFuZGxlUXVlcnlMYXlvdXQ6IGZ1bmN0aW9uKFxuICAgIGw6IG51bWJlcixcbiAgICB0OiBudW1iZXIsXG4gICAgdzogbnVtYmVyLFxuICAgIGg6IG51bWJlcixcbiAgICBnbG9iYWxYOiBudW1iZXIsXG4gICAgZ2xvYmFsWTogbnVtYmVyLFxuICApIHtcbiAgICAvL2Rvbid0IGRvIGFueXRoaW5nIFVJTWFuYWdlciBmYWlsZWQgdG8gbWVhc3VyZSBub2RlXG4gICAgaWYgKCFsICYmICF0ICYmICF3ICYmICFoICYmICFnbG9iYWxYICYmICFnbG9iYWxZKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZSAmJlxuICAgICAgUG9zaXRpb24ucmVsZWFzZSh0aGlzLnN0YXRlLnRvdWNoYWJsZS5wb3NpdGlvbk9uQWN0aXZhdGUpO1xuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLmRpbWVuc2lvbnNPbkFjdGl2YXRlICYmXG4gICAgICBCb3VuZGluZ0RpbWVuc2lvbnMucmVsZWFzZSh0aGlzLnN0YXRlLnRvdWNoYWJsZS5kaW1lbnNpb25zT25BY3RpdmF0ZSk7XG4gICAgdGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlID0gUG9zaXRpb24uZ2V0UG9vbGVkKFxuICAgICAgZ2xvYmFsWCxcbiAgICAgIGdsb2JhbFksXG4gICAgKTtcbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5kaW1lbnNpb25zT25BY3RpdmF0ZSA9IEJvdW5kaW5nRGltZW5zaW9ucy5nZXRQb29sZWQoXG4gICAgICB3LFxuICAgICAgaCxcbiAgICApO1xuICB9LFxuXG4gIF9oYW5kbGVEZWxheTogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuREVMQVksIGUpO1xuICB9LFxuXG4gIF9oYW5kbGVMb25nRGVsYXk6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCA9IG51bGw7XG4gICAgY29uc3QgY3VyU3RhdGUgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlO1xuICAgIGlmIChcbiAgICAgIGN1clN0YXRlICE9PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiAmJlxuICAgICAgY3VyU3RhdGUgIT09IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU5cbiAgICApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdBdHRlbXB0ZWQgdG8gdHJhbnNpdGlvbiBmcm9tIHN0YXRlIGAnICtcbiAgICAgICAgICBjdXJTdGF0ZSArXG4gICAgICAgICAgJ2AgdG8gYCcgK1xuICAgICAgICAgIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4gK1xuICAgICAgICAgICdgLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLiBUaGlzIGlzICcgK1xuICAgICAgICAgICdtb3N0IGxpa2VseSBkdWUgdG8gYFRvdWNoYWJsZS5sb25nUHJlc3NEZWxheVRpbWVvdXRgIG5vdCBiZWluZyBjYW5jZWxsZWQuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5MT05HX1BSRVNTX0RFVEVDVEVELCBlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlY2VpdmVzIGEgc3RhdGUgbWFjaGluZSBzaWduYWwsIHBlcmZvcm1zIHNpZGUgZWZmZWN0cyBvZiB0aGUgdHJhbnNpdGlvblxuICAgKiBhbmQgc3RvcmVzIHRoZSBuZXcgc3RhdGUuIFZhbGlkYXRlcyB0aGUgdHJhbnNpdGlvbiBhcyB3ZWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge1NpZ25hbHN9IHNpZ25hbCBTdGF0ZSBtYWNoaW5lIHNpZ25hbC5cbiAgICogQHRocm93cyBFcnJvciBpZiBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gb3IgdW5yZWNvZ25pemVkIHNpZ25hbC5cbiAgICogQHNpZGVlZmZlY3RzXG4gICAqL1xuICBfcmVjZWl2ZVNpZ25hbDogZnVuY3Rpb24oc2lnbmFsOiBTaWduYWwsIGU6IFByZXNzRXZlbnQpIHtcbiAgICBjb25zdCByZXNwb25kZXJJRCA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEO1xuICAgIGNvbnN0IGN1clN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSBUcmFuc2l0aW9uc1tjdXJTdGF0ZV0gJiYgVHJhbnNpdGlvbnNbY3VyU3RhdGVdW3NpZ25hbF07XG4gICAgaWYgKCFyZXNwb25kZXJJRCAmJiBzaWduYWwgPT09IFNpZ25hbHMuUkVTUE9OREVSX1JFTEVBU0UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFuZXh0U3RhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VucmVjb2duaXplZCBzaWduYWwgYCcgK1xuICAgICAgICAgIHNpZ25hbCArXG4gICAgICAgICAgJ2Agb3Igc3RhdGUgYCcgK1xuICAgICAgICAgIGN1clN0YXRlICtcbiAgICAgICAgICAnYCBmb3IgVG91Y2hhYmxlIHJlc3BvbmRlciBgJyArXG4gICAgICAgICAgcmVzcG9uZGVySUQgK1xuICAgICAgICAgICdgJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChuZXh0U3RhdGUgPT09IFN0YXRlcy5FUlJPUikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVG91Y2hhYmxlIGNhbm5vdCB0cmFuc2l0aW9uIGZyb20gYCcgK1xuICAgICAgICAgIGN1clN0YXRlICtcbiAgICAgICAgICAnYCB0byBgJyArXG4gICAgICAgICAgc2lnbmFsICtcbiAgICAgICAgICAnYCBmb3IgcmVzcG9uZGVyIGAnICtcbiAgICAgICAgICByZXNwb25kZXJJRCArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGN1clN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuX3BlcmZvcm1TaWRlRWZmZWN0c0ZvclRyYW5zaXRpb24oY3VyU3RhdGUsIG5leHRTdGF0ZSwgc2lnbmFsLCBlKTtcbiAgICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnRvdWNoU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgfVxuICB9LFxuXG4gIF9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCk7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICB9LFxuXG4gIF9pc0hpZ2hsaWdodDogZnVuY3Rpb24oc3RhdGU6IFN0YXRlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiB8fFxuICAgICAgc3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU5cbiAgICApO1xuICB9LFxuXG4gIF9zYXZlUHJlc3NJbkxvY2F0aW9uOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgY29uc3QgdG91Y2ggPSBleHRyYWN0U2luZ2xlVG91Y2goZS5uYXRpdmVFdmVudCk7XG4gICAgY29uc3QgcGFnZVggPSB0b3VjaCAmJiB0b3VjaC5wYWdlWDtcbiAgICBjb25zdCBwYWdlWSA9IHRvdWNoICYmIHRvdWNoLnBhZ2VZO1xuICAgIGNvbnN0IGxvY2F0aW9uWCA9IHRvdWNoICYmIHRvdWNoLmxvY2F0aW9uWDtcbiAgICBjb25zdCBsb2NhdGlvblkgPSB0b3VjaCAmJiB0b3VjaC5sb2NhdGlvblk7XG4gICAgdGhpcy5wcmVzc0luTG9jYXRpb24gPSB7cGFnZVgsIHBhZ2VZLCBsb2NhdGlvblgsIGxvY2F0aW9uWX07XG4gIH0sXG5cbiAgX2dldERpc3RhbmNlQmV0d2VlblBvaW50czogZnVuY3Rpb24oXG4gICAgYVg6IG51bWJlcixcbiAgICBhWTogbnVtYmVyLFxuICAgIGJYOiBudW1iZXIsXG4gICAgYlk6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgZGVsdGFYID0gYVggLSBiWDtcbiAgICBjb25zdCBkZWx0YVkgPSBhWSAtIGJZO1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZKTtcbiAgfSxcblxuICAvKipcbiAgICogV2lsbCBwZXJmb3JtIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHRvdWNoYWJsZSBzdGF0ZXMsIGFuZCBpZGVudGlmeSBhbnlcbiAgICogaGlnaGxpZ2h0aW5nIG9yIHVuaGlnaGxpZ2h0aW5nIHRoYXQgbXVzdCBiZSBwZXJmb3JtZWQgZm9yIHRoaXMgcGFydGljdWxhclxuICAgKiB0cmFuc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0YXRlc30gY3VyU3RhdGUgQ3VycmVudCBUb3VjaGFibGUgc3RhdGUuXG4gICAqIEBwYXJhbSB7U3RhdGVzfSBuZXh0U3RhdGUgTmV4dCBUb3VjaGFibGUgc3RhdGUuXG4gICAqIEBwYXJhbSB7U2lnbmFsfSBzaWduYWwgU2lnbmFsIHRoYXQgdHJpZ2dlcmVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIE5hdGl2ZSBldmVudC5cbiAgICogQHNpZGVlZmZlY3RzXG4gICAqL1xuICBfcGVyZm9ybVNpZGVFZmZlY3RzRm9yVHJhbnNpdGlvbjogZnVuY3Rpb24oXG4gICAgY3VyU3RhdGU6IFN0YXRlLFxuICAgIG5leHRTdGF0ZTogU3RhdGUsXG4gICAgc2lnbmFsOiBTaWduYWwsXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSB7XG4gICAgY29uc3QgY3VySXNIaWdobGlnaHQgPSB0aGlzLl9pc0hpZ2hsaWdodChjdXJTdGF0ZSk7XG4gICAgY29uc3QgbmV3SXNIaWdobGlnaHQgPSB0aGlzLl9pc0hpZ2hsaWdodChuZXh0U3RhdGUpO1xuXG4gICAgY29uc3QgaXNGaW5hbFNpZ25hbCA9XG4gICAgICBzaWduYWwgPT09IFNpZ25hbHMuUkVTUE9OREVSX1RFUk1JTkFURUQgfHxcbiAgICAgIHNpZ25hbCA9PT0gU2lnbmFscy5SRVNQT05ERVJfUkVMRUFTRTtcblxuICAgIGlmIChpc0ZpbmFsU2lnbmFsKSB7XG4gICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0luaXRpYWxUcmFuc2l0aW9uID1cbiAgICAgIGN1clN0YXRlID09PSBTdGF0ZXMuTk9UX1JFU1BPTkRFUiAmJlxuICAgICAgbmV4dFN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOO1xuXG4gICAgY29uc3QgaXNBY3RpdmVUcmFuc2l0aW9uID0gIUlzQWN0aXZlW2N1clN0YXRlXSAmJiBJc0FjdGl2ZVtuZXh0U3RhdGVdO1xuICAgIGlmIChpc0luaXRpYWxUcmFuc2l0aW9uIHx8IGlzQWN0aXZlVHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5fcmVtZWFzdXJlTWV0cmljc09uQWN0aXZhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChJc1ByZXNzaW5nSW5bY3VyU3RhdGVdICYmIHNpZ25hbCA9PT0gU2lnbmFscy5MT05HX1BSRVNTX0RFVEVDVEVEKSB7XG4gICAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyAmJiB0aGlzLnRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyhlKTtcbiAgICB9XG5cbiAgICBpZiAobmV3SXNIaWdobGlnaHQgJiYgIWN1cklzSGlnaGxpZ2h0KSB7XG4gICAgICB0aGlzLl9zdGFydEhpZ2hsaWdodChlKTtcbiAgICB9IGVsc2UgaWYgKCFuZXdJc0hpZ2hsaWdodCAmJiBjdXJJc0hpZ2hsaWdodCkge1xuICAgICAgdGhpcy5fZW5kSGlnaGxpZ2h0KGUpO1xuICAgIH1cblxuICAgIGlmIChJc1ByZXNzaW5nSW5bY3VyU3RhdGVdICYmIHNpZ25hbCA9PT0gU2lnbmFscy5SRVNQT05ERVJfUkVMRUFTRSkge1xuICAgICAgY29uc3QgaGFzTG9uZ1ByZXNzSGFuZGxlciA9ICEhdGhpcy5wcm9wcy5vbkxvbmdQcmVzcztcbiAgICAgIGNvbnN0IHByZXNzSXNMb25nQnV0U3RpbGxDYWxsT25QcmVzcyA9XG4gICAgICAgIElzTG9uZ1ByZXNzaW5nSW5bY3VyU3RhdGVdICYmIC8vIFdlICphcmUqIGxvbmcgcHJlc3NpbmcuLiAvLyBCdXQgZWl0aGVyIGhhcyBubyBsb25nIGhhbmRsZXJcbiAgICAgICAgKCFoYXNMb25nUHJlc3NIYW5kbGVyIHx8ICF0aGlzLnRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzcygpKTsgLy8gb3Igd2UncmUgdG9sZCB0byBpZ25vcmUgaXQuXG5cbiAgICAgIGNvbnN0IHNob3VsZEludm9rZVByZXNzID1cbiAgICAgICAgIUlzTG9uZ1ByZXNzaW5nSW5bY3VyU3RhdGVdIHx8IHByZXNzSXNMb25nQnV0U3RpbGxDYWxsT25QcmVzcztcbiAgICAgIGlmIChzaG91bGRJbnZva2VQcmVzcyAmJiB0aGlzLnRvdWNoYWJsZUhhbmRsZVByZXNzKSB7XG4gICAgICAgIGlmICghbmV3SXNIaWdobGlnaHQgJiYgIWN1cklzSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgLy8gd2UgbmV2ZXIgaGlnaGxpZ2h0ZWQgYmVjYXVzZSBvZiBkZWxheSwgYnV0IHdlIHNob3VsZCBoaWdobGlnaHQgbm93XG4gICAgICAgICAgdGhpcy5fc3RhcnRIaWdobGlnaHQoZSk7XG4gICAgICAgICAgdGhpcy5fZW5kSGlnaGxpZ2h0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgdGhpcy5fcGxheVRvdWNoU291bmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZVByZXNzKGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCk7XG4gICAgdGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQgPSBudWxsO1xuICB9LFxuXG4gIF9wbGF5VG91Y2hTb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgVUlNYW5hZ2VyLnBsYXlUb3VjaFNvdW5kKCk7XG4gIH0sXG5cbiAgX3N0YXJ0SGlnaGxpZ2h0OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5fc2F2ZVByZXNzSW5Mb2NhdGlvbihlKTtcbiAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4gJiYgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luKGUpO1xuICB9LFxuXG4gIF9lbmRIaWdobGlnaHQ6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICBpZiAodGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyAmJlxuICAgICAgICB0aGlzLnRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5wcmVzc091dERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQoZSk7XG4gICAgICAgIH0sIHRoaXMudG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dChlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgd2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXI6IHt9LFxufTtcblxuLyoqXG4gKiBQcm92aWRlIGFuIG9wdGlvbmFsIHZlcnNpb24gb2YgdGhlIG1peGluIHdoZXJlIGB0b3VjaGFibGVIYW5kbGVGb2N1c2AgYW5kXG4gKiBgdG91Y2hhYmxlSGFuZGxlQmx1cmAgY2FuIGJlIG92ZXJyaWRkZW4uIFRoaXMgYWxsb3dzIGFwcHJvcHJpYXRlIGRlZmF1bHRzIHRvXG4gKiBiZSBzZXQgb24gVFYgcGxhdGZvcm1zLCB3aXRob3V0IGJyZWFraW5nIGV4aXN0aW5nIGltcGxlbWVudGF0aW9ucyBvZlxuICogYFRvdWNoYWJsZWAuXG4gKi9cbmNvbnN0IHtcbiAgdG91Y2hhYmxlSGFuZGxlRm9jdXMsXG4gIHRvdWNoYWJsZUhhbmRsZUJsdXIsXG4gIC4uLlRvdWNoYWJsZU1peGluV2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJcbn0gPSBUb3VjaGFibGVNaXhpbjtcblRvdWNoYWJsZU1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyID0gVG91Y2hhYmxlTWl4aW5XaXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1cjtcblxuY29uc3QgVG91Y2hhYmxlID0ge1xuICBNaXhpbjogVG91Y2hhYmxlTWl4aW4sXG4gIFRPVUNIX1RBUkdFVF9ERUJVRzogZmFsc2UsIC8vIEhpZ2hsaWdodHMgYWxsIHRvdWNoYWJsZSB0YXJnZXRzLiBUb2dnbGUgd2l0aCBJbnNwZWN0b3IuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGEgZGVidWdnaW5nIG92ZXJsYXkgdG8gdmlzdWFsaXplIHRvdWNoIHRhcmdldCB3aXRoIGhpdFNsb3AgKG1pZ2h0IG5vdCB3b3JrIG9uIEFuZHJvaWQpLlxuICAgKi9cbiAgcmVuZGVyRGVidWdWaWV3OiAoe1xuICAgIGNvbG9yLFxuICAgIGhpdFNsb3AsXG4gIH06IHtcbiAgICBjb2xvcjogc3RyaW5nIHwgbnVtYmVyLFxuICAgIGhpdFNsb3A6IEVkZ2VJbnNldHNQcm9wLFxuICB9KSA9PiB7XG4gICAgaWYgKCFUb3VjaGFibGUuVE9VQ0hfVEFSR0VUX0RFQlVHKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFfX0RFVl9fKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgJ1RvdWNoYWJsZS5UT1VDSF9UQVJHRVRfREVCVUcgc2hvdWxkIG5vdCBiZSBlbmFibGVkIGluIHByb2QhJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRlYnVnSGl0U2xvcFN0eWxlID0ge307XG4gICAgaGl0U2xvcCA9IGhpdFNsb3AgfHwge3RvcDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwLCByaWdodDogMH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaGl0U2xvcCkge1xuICAgICAgZGVidWdIaXRTbG9wU3R5bGVba2V5XSA9IC1oaXRTbG9wW2tleV07XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKGNvbG9yKTtcbiAgICBpZiAodHlwZW9mIG5vcm1hbGl6ZWRDb2xvciAhPT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBoZXhDb2xvciA9XG4gICAgICAnIycgKyAoJzAwMDAwMDAwJyArIG5vcm1hbGl6ZWRDb2xvci50b1N0cmluZygxNikpLnN1YnN0cigtOCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcbiAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICBzdHlsZXMuZGVidWcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGhleENvbG9yLnNsaWNlKDAsIC0yKSArICc1NScsIC8vIE1vcmUgb3BhcXVlXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGhleENvbG9yLnNsaWNlKDAsIC0yKSArICcwRicsIC8vIExlc3Mgb3BhcXVlXG4gICAgICAgICAgICAuLi5kZWJ1Z0hpdFNsb3BTdHlsZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdfVxuICAgICAgLz5cbiAgICApO1xuICB9LFxufTtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBkZWJ1Zzoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIGJvcmRlcldpZHRoOiAxLFxuICAgIGJvcmRlclN0eWxlOiAnZGFzaGVkJyxcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRvdWNoYWJsZTtcbiJdfQ==