2b31229819e3fba0c9e2ef52cca1e4ef
'use strict';

function parseErrorStack(e) {
  if (!e || !e.stack) {
    return [];
  }

  var stacktraceParser = require('stacktrace-parser');

  var stack = Array.isArray(e.stack) ? e.stack : stacktraceParser.parse(e.stack);
  var framesToPop = typeof e.framesToPop === 'number' ? e.framesToPop : 0;

  while (framesToPop--) {
    stack.shift();
  }

  return stack;
}

module.exports = parseErrorStack;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlRXJyb3JTdGFjay5qcyJdLCJuYW1lcyI6WyJwYXJzZUVycm9yU3RhY2siLCJlIiwic3RhY2siLCJzdGFja3RyYWNlUGFyc2VyIiwicmVxdWlyZSIsIkFycmF5IiwiaXNBcnJheSIsInBhcnNlIiwiZnJhbWVzVG9Qb3AiLCJzaGlmdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOztBQWNBLFNBQVNBLGVBQVQsQ0FBeUJDLENBQXpCLEVBQThEO0FBQzVELE1BQUksQ0FBQ0EsQ0FBRCxJQUFNLENBQUNBLENBQUMsQ0FBQ0MsS0FBYixFQUFvQjtBQUNsQixXQUFPLEVBQVA7QUFDRDs7QUFLRCxNQUFNQyxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLG1CQUFELENBQWhDOztBQUNBLE1BQU1GLEtBQUssR0FBR0csS0FBSyxDQUFDQyxPQUFOLENBQWNMLENBQUMsQ0FBQ0MsS0FBaEIsSUFDVkQsQ0FBQyxDQUFDQyxLQURRLEdBRVZDLGdCQUFnQixDQUFDSSxLQUFqQixDQUF1Qk4sQ0FBQyxDQUFDQyxLQUF6QixDQUZKO0FBSUEsTUFBSU0sV0FBVyxHQUFHLE9BQU9QLENBQUMsQ0FBQ08sV0FBVCxLQUF5QixRQUF6QixHQUFvQ1AsQ0FBQyxDQUFDTyxXQUF0QyxHQUFvRCxDQUF0RTs7QUFDQSxTQUFPQSxXQUFXLEVBQWxCLEVBQXNCO0FBQ3BCTixJQUFBQSxLQUFLLENBQUNPLEtBQU47QUFDRDs7QUFDRCxTQUFPUCxLQUFQO0FBQ0Q7O0FBRURRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlgsZUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgdHlwZSBTdGFja0ZyYW1lID0ge1xuICBjb2x1bW46ID9udW1iZXIsXG4gIGZpbGU6IHN0cmluZyxcbiAgbGluZU51bWJlcjogbnVtYmVyLFxuICBtZXRob2ROYW1lOiBzdHJpbmcsXG59O1xuXG5leHBvcnQgdHlwZSBFeHRlbmRlZEVycm9yID0gRXJyb3IgJiB7XG4gIGZyYW1lc1RvUG9wPzogbnVtYmVyLFxuICBqc0VuZ2luZT86IHN0cmluZyxcbn07XG5cbmZ1bmN0aW9uIHBhcnNlRXJyb3JTdGFjayhlOiBFeHRlbmRlZEVycm9yKTogQXJyYXk8U3RhY2tGcmFtZT4ge1xuICBpZiAoIWUgfHwgIWUuc3RhY2spIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjU0IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgY29uc3Qgc3RhY2t0cmFjZVBhcnNlciA9IHJlcXVpcmUoJ3N0YWNrdHJhY2UtcGFyc2VyJyk7XG4gIGNvbnN0IHN0YWNrID0gQXJyYXkuaXNBcnJheShlLnN0YWNrKVxuICAgID8gZS5zdGFja1xuICAgIDogc3RhY2t0cmFjZVBhcnNlci5wYXJzZShlLnN0YWNrKTtcblxuICBsZXQgZnJhbWVzVG9Qb3AgPSB0eXBlb2YgZS5mcmFtZXNUb1BvcCA9PT0gJ251bWJlcicgPyBlLmZyYW1lc1RvUG9wIDogMDtcbiAgd2hpbGUgKGZyYW1lc1RvUG9wLS0pIHtcbiAgICBzdGFjay5zaGlmdCgpO1xuICB9XG4gIHJldHVybiBzdGFjaztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZUVycm9yU3RhY2s7XG4iXX0=